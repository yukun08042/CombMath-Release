[
  {
    "chapter_id": 7,
    "chapter_name": "波利亚定理",
    "difficulty": 2,
    "problem_content": "设有 $n$ 个人围绕一张圆桌就座，圆桌可以任意旋转视为同一种就座方式。利用 Burnside 引理求不同就座方案的数量。",
    "problem_solution": "设集合 $X$ 为 $n$ 个不同的人在一排固定线性座位上的全排列，则\n$$|X| = n!.$$ \n\n设作用在 $X$ 上的置换群 $G$ 为圆桌的旋转群\n$$C_n = \\{g_0, g_1, \\dots, g_{n-1}\\},$$\n其中 $g_k$ 表示沿圆桌顺时针方向旋转 $k$ 个单位（位置）。显然\n$$|G| = n.$$ \n\n根据 Burnside 引理，不同就座方案数 $N$ 为\n$$\nN = \\frac{1}{|G|} \\sum_{g \\in G} |X^g|,\n$$\n其中 $X^g$ 表示在置换 $g$ 作用下保持不变的排列集合。\n\n下面计算各群元素的不动点数 $|X^g|$：\n\n1. **恒等变换 $g_0$**  \n   对于恒等变换 $g_0$，不进行任何旋转，所有线性排列都保持不变，故\n   $$|X^{g_0}| = n!.$$\n\n2. **非平凡旋转 $g_k$（$1 \\le k \\le n-1$）**  \n   若一个排列在旋转 $k$ 个位置后保持不变，则对任意位置 $i$，旋转前位置 $i$ 上的人与旋转后位置 $(i + k) \\bmod n$ 上的人必须相同。也就是说，这是一个在旋转 $k$ 个单位下的周期性排列。  \n   然而，$n$ 个人两两不同，而旋转 $k$ 个位置会将不同的位置成环地互换，一个环中至少涉及两个不同的位置，这要求一个人同时占据多个不同的位置，这是不可能的。因此在这种情况下不存在不动点排列，即\n   $$|X^{g_k}| = 0, \\quad 1 \\le k \\le n-1.$$\n\n将上述结果代入 Burnside 引理：\n$$\n\\begin{aligned}\nN &= \\frac{1}{n} \\left( |X^{g_0}| + \\sum_{k=1}^{n-1} |X^{g_k}| \\right) \\\\\n  &= \\frac{1}{n} \\bigl( n! + \\underbrace{0 + \\dots + 0}_{n-1\\,\\text{个}} \\bigr) \\\\\n  &= \\frac{n!}{n} \\\\\n  &= (n-1)!.\n\\end{aligned}\n$$\n\n因此，不同的圆桌就座方案数为\n$$(n-1)!.$$",
    "problem_mindmap": {
      "nodes": [
        {
          "node_id": "N1",
          "node_type": "问题核心",
          "node_content": "利用 Burnside 引理求 $n$ 个人围坐圆桌的不同就座方案数"
        },
        {
          "node_id": "N2",
          "node_type": "核心思路",
          "node_content": "将圆桌就座方式转化为线性排列集合 $X$ 上旋转群 $G=C_n$ 的作用，套用 Burnside 引理"
        },
        {
          "node_id": "N3",
          "node_type": "关键结论",
          "node_content": "定义集合 $X$ 为 $n$ 个人在一排座位上的全排列，故 $|X| = n!$"
        },
        {
          "node_id": "N4",
          "node_type": "关键结论",
          "node_content": "定义作用群 $G=C_n=\\{g_0,\\dots,g_{n-1}\\}$ 为圆桌的旋转群，故 $|G|=n$"
        },
        {
          "node_id": "N5",
          "node_type": "核心思路",
          "node_content": "由 Burnside 引理：不同就座方案数 $N = \\dfrac{1}{|G|} \\sum_{g\\in G} |X^g|$，需分类计算各 $g$ 的不动点数 $|X^g|$"
        },
        {
          "node_id": "N6",
          "node_type": "分支/情况",
          "node_content": "情况一：恒等旋转 $g_0$"
        },
        {
          "node_id": "N7",
          "node_type": "关键结论",
          "node_content": "在 $g_0$ 作用下所有排列保持不变，故 $|X^{g_0}|=n!$"
        },
        {
          "node_id": "N8",
          "node_type": "分支/情况",
          "node_content": "情况二：非平凡旋转 $g_k$，$1\\le k\\le n-1$"
        },
        {
          "node_id": "N9",
          "node_type": "关键结论",
          "node_content": "若排列在 $g_k$ 下不变，则必须是旋转 $k$ 位的周期性排列，但 $n$ 个人均不同，不可能一人占多个位置，故 $|X^{g_k}|=0$，$1\\le k\\le n-1$"
        },
        {
          "node_id": "N10",
          "node_type": "关键结论",
          "node_content": "汇总不动点数：$\\displaystyle \\sum_{g\\in G}|X^g| = |X^{g_0}| + \\sum_{k=1}^{n-1}|X^{g_k}| = n! + 0 = n!$"
        },
        {
          "node_id": "N11",
          "node_type": "最终答案",
          "node_content": "代入 Burnside 引理：$\\displaystyle N = \\frac{1}{n}n! = (n-1)!$，即圆桌就座方案数为 $(n-1)!$"
        }
      ],
      "edges": [
        {
          "edge_id": "E1",
          "source": "N1",
          "target": "N2",
          "edge_content": "确定整体策略"
        },
        {
          "edge_id": "E2",
          "source": "N2",
          "target": "N3",
          "edge_content": "构造集合"
        },
        {
          "edge_id": "E3",
          "source": "N2",
          "target": "N4",
          "edge_content": "构造群作用"
        },
        {
          "edge_id": "E4",
          "source": "N3",
          "target": "N5",
          "edge_content": "准备应用 Burnside"
        },
        {
          "edge_id": "E5",
          "source": "N4",
          "target": "N5",
          "edge_content": "准备应用 Burnside"
        },
        {
          "edge_id": "E6",
          "source": "N5",
          "target": "N6",
          "edge_content": "分类一：恒等元"
        },
        {
          "edge_id": "E7",
          "source": "N5",
          "target": "N8",
          "edge_content": "分类二：非恒等元"
        },
        {
          "edge_id": "E8",
          "source": "N6",
          "target": "N7",
          "edge_content": "计算 $|X^{g_0}|$"
        },
        {
          "edge_id": "E9",
          "source": "N8",
          "target": "N9",
          "edge_content": "计算 $|X^{g_k}|$"
        },
        {
          "edge_id": "E10",
          "source": "N7",
          "target": "N10",
          "edge_content": "汇总贡献"
        },
        {
          "edge_id": "E11",
          "source": "N9",
          "target": "N10",
          "edge_content": "汇总贡献"
        },
        {
          "edge_id": "E12",
          "source": "N10",
          "target": "N11",
          "edge_content": "代入 Burnside 得结果"
        }
      ]
    }
  },
  {
    "chapter_id": 7,
    "chapter_name": "波利亚定理",
    "difficulty": 3,
    "problem_content": "设想将一个大正方形划分为四个边长为原先二分之一的小正方形，使用黑、白两种颜色对每个小正方形染色。允许的对称操作包括：\n\n1. 大正方形在其所在平面内绕其中心旋转；\n2. 将染色方案中的黑色改为白色、白色改为黑色。\n\n求在这些对称操作下，不等价的染色方案数。",
    "problem_solution": "1. **定义集合与群**\n\n设集合 $X$ 为 $2\\times 2$ 棋盘格的所有染色方案，每个格子可选黑、白两色，因此\n$$\n|X| = 2^4 = 16.\n$$\n\n设群 $G$ 由以下两类对称操作生成：\n- 旋转操作 $r$：在平面内绕中心逆时针旋转 $90^\\circ$；\n- 颜色反转操作 $c$：将黑色变为白色、白色变为黑色。\n\n由这些操作生成的群 $G$ 包含 8 个元素：\n$$\nG = \\{e, r, r^2, r^3, c, rc, r^2c, r^3c\\},\n$$\n其中 $e$ 为恒等变换，且 $|G| = 8$。\n\n根据 Burnside 引理，不等价的染色方案数为\n$$\nN = \\frac{1}{|G|} \\sum_{g \\in G} |X^g|,\n$$\n其中 $|X^g|$ 为在群元素 $g$ 作用下保持不变的染色方案数。\n\n2. **逐个计算不动点数量 $|X^g|$**\n\n将四个小正方形编号为 1, 2, 3, 4，以便描述它们在群作用下的对应关系。\n\n- **恒等变换 $e$**：\n  恒等变换不改变任何格子，所有 16 种染色方案都保持不变：\n  $$\n  |X^e| = 16.\n  $$\n\n- **纯旋转 $r$（$90^\\circ$）和 $r^3$（$270^\\circ$）**：\n  在 $90^\\circ$ 及 $270^\\circ$ 旋转下，四个格子构成一个长度为 4 的循环 $(1\\ 2\\ 3\\ 4)$。要使染色在此作用下保持不变，四个格子的颜色必须全部相同（全黑或全白）：\n  $$\n  |X^r| = |X^{r^3}| = 2^1 = 2.\n  $$\n\n- **纯旋转 $r^2$（$180^\\circ$）**：\n  在 $180^\\circ$ 旋转下，格子两两对应，构成两个 2-循环 $(1\\ 3)(2\\ 4)$。要保持不变，每一对对称位置的格子颜色必须相同，因此有两对格子，每对可独立选择颜色：\n  $$\n  |X^{r^2}| = 2^2 = 4.\n  $$\n\n- **纯颜色反转 $c$**：\n  颜色反转 $c$ 要求每个格子的颜色在作用后与原颜色相同，即颜色等于自身的反色，这在黑、白两色下是不可能的，因此：\n  $$\n  |X^c| = 0.\n  $$\n\n- **旋转 $90^\\circ$ 或 $270^\\circ$ 并反色 $rc, r^3c$**：\n  设 $c_i$ 为第 $i$ 个格子的颜色，$\\bar{c}_i$ 为其反色。对 $rc$（先旋转再反色或等价的组合）来说，格子按 $1 \\to 2 \\to 3 \\to 4 \\to 1$ 轮换，同时每次轮换颜色取反。要在该作用下不变，需要满足：\n  $$\n  c_2 = \\bar{c}_1,\\quad c_3 = \\bar{c}_2 = c_1,\\quad c_4 = \\bar{c}_3 = \\bar{c}_1.\n  $$\n  因此只需自由选择格子 1 的颜色，其余格子的颜色随之唯一确定（形成黑白黑白或白黑白黑的交替模式）：\n  $$\n  |X^{rc}| = |X^{r^3c}| = 2^1 = 2.\n  $$\n\n- **旋转 $180^\\circ$ 并反色 $r^2c$**：\n  在 $r^2c$ 的作用下，格子按 $(1\\ 3)(2\\ 4)$ 互换并同时颜色取反。要保持不变，需要\n  $$\n  c_3 = \\bar{c}_1,\\quad c_4 = \\bar{c}_2.\n  $$\n  因此格子 1 和格子 2 的颜色可以自由选择，而格子 3 和 4 的颜色由此唯一确定：\n  $$\n  |X^{r^2c}| = 2^2 = 4.\n  $$\n\n3. **应用 Burnside 引理计算不等价方案数**\n\n将各元素的不动点数量相加：\n$$\n\\sum_{g \\in G} |X^g| = |X^e| + |X^r| + |X^{r^2}| + |X^{r^3}| + |X^c| + |X^{rc}| + |X^{r^2c}| + |X^{r^3c}|.\n$$\n代入上面的结果：\n$$\n\\begin{aligned}\n\\sum_{g \\in G} |X^g|\n&= 16 + 2 + 4 + 2 + 0 + 2 + 4 + 2 \\\\\n&= 32.\n\\end{aligned}\n$$\n\n于是，不等价的染色方案数为\n$$\n\\begin{aligned}\nN &= \\frac{1}{|G|} \\sum_{g \\in G} |X^g| \\\\\n  &= \\frac{1}{8} \\times 32 \\\\\n  &= 4.\n\\end{aligned}\n$$\n\n因此，在所给对称操作下，共有 $4$ 种不等价的染色方案。",
    "problem_mindmap": {
      "nodes": [
        {
          "node_id": "N1",
          "node_type": "问题核心",
          "node_content": "在旋转 + 颜色反转的对称操作下，求 $2\\times2$ 棋盘黑白染色的不等价方案数"
        },
        {
          "node_id": "N2",
          "node_type": "核心思路",
          "node_content": "把所有染色视作集合 $X$，对称操作构成群 $G$，用 Burnside 引理：$N=\\dfrac1{|G|}\\sum_{g\\in G}|X^g|$"
        },
        {
          "node_id": "N3",
          "node_type": "关键结论",
          "node_content": "所有染色方案数：$|X|=2^4=16$"
        },
        {
          "node_id": "N4",
          "node_type": "关键结论",
          "node_content": "对称操作群 $G=\\{e,r,r^2,r^3,c,rc,r^2c,r^3c\\}$，$|G|=8$"
        },
        {
          "node_id": "N5",
          "node_type": "核心思路",
          "node_content": "按群元素类型分类，分别计算各 $|X^g|$"
        },
        {
          "node_id": "N6",
          "node_type": "分支/情况",
          "node_content": "情况A：纯旋转 $e,r,r^2,r^3$"
        },
        {
          "node_id": "N7",
          "node_type": "关键结论",
          "node_content": "恒等 $e$：任意染色保持不变，$|X^e|=16$"
        },
        {
          "node_id": "N8",
          "node_type": "关键结论",
          "node_content": "$90^\\circ,270^\\circ$ 旋转 $r,r^3$ 形成 4-循环，4格同色，$|X^r|=|X^{r^3}|=2$"
        },
        {
          "node_id": "N9",
          "node_type": "关键结论",
          "node_content": "$180^\\circ$ 旋转 $r^2$ 形成两个 2-循环，对称对同色，$|X^{r^2}|=2^2=4$"
        },
        {
          "node_id": "N10",
          "node_type": "分支/情况",
          "node_content": "情况B：含颜色反转 $c,rc,r^2c,r^3c$"
        },
        {
          "node_id": "N11",
          "node_type": "关键结论",
          "node_content": "纯反色 $c$：要求颜色等于自身反色，不可能，$|X^c|=0$"
        },
        {
          "node_id": "N12",
          "node_type": "关键结论",
          "node_content": "$rc,r^3c$：4格沿环轮换并取反，确定一格颜色，其他唯一确定，$|X^{rc}|=|X^{r^3c}|=2$"
        },
        {
          "node_id": "N13",
          "node_type": "关键结论",
          "node_content": "$r^2c$：成两对互换并取反，任取两格颜色，另一对确定，$|X^{r^2c}|=2^2=4$"
        },
        {
          "node_id": "N14",
          "node_type": "关键结论",
          "node_content": "汇总不动点：$\\sum_{g\\in G}|X^g|=16+2+4+2+0+2+4+2=32$"
        },
        {
          "node_id": "N15",
          "node_type": "最终答案",
          "node_content": "不等价染色方案数 $N=\\dfrac1{8}\\times 32=4$"
        }
      ],
      "edges": [
        {
          "edge_id": "E1",
          "source": "N1",
          "target": "N2",
          "edge_content": "选择计数工具"
        },
        {
          "edge_id": "E2",
          "source": "N2",
          "target": "N3",
          "edge_content": "确定 $X$"
        },
        {
          "edge_id": "E3",
          "source": "N2",
          "target": "N4",
          "edge_content": "确定 $G$"
        },
        {
          "edge_id": "E4",
          "source": "N2",
          "target": "N5",
          "edge_content": "应用 Burnside，需要各 $|X^g|$"
        },
        {
          "edge_id": "E5",
          "source": "N5",
          "target": "N6",
          "edge_content": "按是否含反色分类一"
        },
        {
          "edge_id": "E6",
          "source": "N5",
          "target": "N10",
          "edge_content": "按是否含反色分类二"
        },
        {
          "edge_id": "E7",
          "source": "N6",
          "target": "N7",
          "edge_content": "计算 $|X^e|$"
        },
        {
          "edge_id": "E8",
          "source": "N6",
          "target": "N8",
          "edge_content": "计算 $|X^r|,|X^{r^3}|$"
        },
        {
          "edge_id": "E9",
          "source": "N6",
          "target": "N9",
          "edge_content": "计算 $|X^{r^2}|$"
        },
        {
          "edge_id": "E10",
          "source": "N10",
          "target": "N11",
          "edge_content": "计算 $|X^c|$"
        },
        {
          "edge_id": "E11",
          "source": "N10",
          "target": "N12",
          "edge_content": "计算 $|X^{rc}|,|X^{r^3c}|$"
        },
        {
          "edge_id": "E12",
          "source": "N10",
          "target": "N13",
          "edge_content": "计算 $|X^{r^2c}|$"
        },
        {
          "edge_id": "E13",
          "source": "N7",
          "target": "N14",
          "edge_content": "参与求和"
        },
        {
          "edge_id": "E14",
          "source": "N8",
          "target": "N14",
          "edge_content": "参与求和"
        },
        {
          "edge_id": "E15",
          "source": "N9",
          "target": "N14",
          "edge_content": "参与求和"
        },
        {
          "edge_id": "E16",
          "source": "N11",
          "target": "N14",
          "edge_content": "参与求和"
        },
        {
          "edge_id": "E17",
          "source": "N12",
          "target": "N14",
          "edge_content": "参与求和"
        },
        {
          "edge_id": "E18",
          "source": "N13",
          "target": "N14",
          "edge_content": "参与求和"
        },
        {
          "edge_id": "E19",
          "source": "N3",
          "target": "N14",
          "edge_content": "与不动点总数核对整体规模"
        },
        {
          "edge_id": "E20",
          "source": "N4",
          "target": "N15",
          "edge_content": "提供 $|G|$"
        },
        {
          "edge_id": "E21",
          "source": "N14",
          "target": "N15",
          "edge_content": "代入 Burnside 得最终结果"
        }
      ]
    }
  },
  {
    "chapter_id": 7,
    "chapter_name": "波利亚定理",
    "difficulty": 3,
    "problem_content": "给定 12 种不同的颜色，将一个经典样式的足球的每个正六边形面染成白色，每个正五边形面染成给定的 12 种颜色中的一种，且每种颜色只染一个面。在允许整体旋转视为同一种染色的条件下，求不等价的染色方案数。",
    "problem_solution": "该问题等价于：将 12 种互不相同的颜色分别涂在正十二面体的 12 个面上（每面恰用一种颜色，每种颜色恰用一次），在旋转群作用下，求不等价的染色方案数。\n\n---\n\n1. **确定旋转群的大小**\n\n经典足球可以视作截角二十面体，其正五边形面在组合结构上与正十二面体的 12 个面相对应，因此它们具有相同的旋转对称群。设该旋转群为 $G$。\n\n正十二面体有 12 个面，每个面是正五边形。其旋转对称群与 $A_5$ 同构，群阶为\n$$\n|G| = 60.\n$$\n（例如，可由正十二面体有 20 个顶点、12 个面、30 条棱，且其旋转对称群已知阶为 60 来确定。）\n\n---\n\n2. **应用 Burnside 引理**\n\n设 $X$ 为对 12 个面用 12 种不同颜色的全排列所形成的所有染色方案的集合，则\n$$\n|X| = 12!.\n$$\n对于每个群元素 $g \\in G$，记 $X^g$ 为在 $g$ 作用下保持不变的染色方案集合（即 $g$ 的不动点集）。需要计算 $|X^g|$。\n\n- **恒等变换 $e$：**\n  恒等变换对任何染色都不改变，因此所有方案都是不动点：\n  $$\n  |X^e| = 12!.\n  $$\n\n- **非恒等旋转 $g \\neq e$：**\n  对于正十二面体的任一非恒等旋转 $g$，它必定在 12 个面中存在非平凡的循环（即至少存在一个长度大于 1 的轨道）。由于题中 12 种颜色互不相同，且每种颜色只能使用一次，要使染色在 $g$ 作用下保持不变，$g$ 的每一个轨道上的所有面都必须具有相同的颜色。但在本题中同一种颜色不能在两个不同面上同时出现，因此不可能满足这一条件。\n  因此，对所有非恒等旋转 $g$，均有\n  $$\n  |X^g| = 0.\n  $$\n\n---\n\n3. **根据 Burnside 引理计算不等价方案数**\n\nBurnside 引理给出不等价染色方案数为\n$$\nN = \\frac{1}{|G|} \\sum_{g \\in G} |X^g|.\n$$\n在本题中，\n$$\nN = \\frac{1}{60} \\bigl( |X^e| + \\sum_{g \\in G,\\, g \\neq e} |X^g| \\bigr)\n  = \\frac{1}{60} (12! + 0 + \\dots + 0)\n  = \\frac{12!}{60}.\n$$\n\n具体数值为：\n$$\n12! = 479,001,600,\n$$\n故\n$$\nN = \\frac{479,001,600}{60} = 7,983,360.\n$$\n\n因此，共有 $7,983,360$ 种不等价的染色方案。",
    "problem_mindmap": {
      "nodes": [
        {
          "node_id": "N1",
          "node_type": "问题核心",
          "node_content": "在整体旋转视为同一种染色下，求用 12 种互异颜色给足球 12 个五边形面各染一种颜色的不等价方案数"
        },
        {
          "node_id": "N2",
          "node_type": "核心思路",
          "node_content": "将足球视为与正十二面体同构的多面体，转化为正十二面体面染色问题，并用 Burnside 引理计数"
        },
        {
          "node_id": "N3",
          "node_type": "关键结论",
          "node_content": "足球 12 个五边形面与正十二面体 12 个面的组合结构对应，旋转对称群相同"
        },
        {
          "node_id": "N4",
          "node_type": "关键结论",
          "node_content": "正十二面体的旋转对称群 $G \\cong A_5$，群阶 $|G| = 60$"
        },
        {
          "node_id": "N5",
          "node_type": "关键结论",
          "node_content": "所有可能染色方案集合 $X$：将 12 种互异颜色排列到 12 个面上，$|X| = 12!$"
        },
        {
          "node_id": "N6",
          "node_type": "核心思路",
          "node_content": "应用 Burnside 引理：$N = \\frac{1}{|G|} \\sum_{g \\in G} |X^g|$，需要按群元素类型求不动点数"
        },
        {
          "node_id": "N7",
          "node_type": "分支/情况",
          "node_content": "情况一：恒等变换 $e$ 的不动点数 $|X^e|$"
        },
        {
          "node_id": "N8",
          "node_type": "关键结论",
          "node_content": "恒等变换保持所有染色不变，$|X^e| = 12!$"
        },
        {
          "node_id": "N9",
          "node_type": "分支/情况",
          "node_content": "情况二：任意非恒等旋转 $g \\neq e$ 的不动点数 $|X^g|$"
        },
        {
          "node_id": "N10",
          "node_type": "关键结论",
          "node_content": "非恒等旋转在 12 个面上出现长度大于 1 的循环，要求同一轨道同色；但每种颜色只能用一次，故无非平凡不动点，$|X^g| = 0$"
        },
        {
          "node_id": "N11",
          "node_type": "关键结论",
          "node_content": "对全部 59 个非恒等旋转都有 $|X^g| = 0$，故 $\\sum_{g \\in G, g \\neq e} |X^g| = 0$"
        },
        {
          "node_id": "N12",
          "node_type": "关键结论",
          "node_content": "由 Burnside：$N = \\dfrac{1}{60}(12! + 0) = \\dfrac{12!}{60}$"
        },
        {
          "node_id": "N13",
          "node_type": "最终答案",
          "node_content": "不等价染色方案数 $N = \\dfrac{12!}{60} = 7{,}983{,}360$"
        }
      ],
      "edges": [
        {
          "edge_id": "E1",
          "source": "N1",
          "target": "N2",
          "edge_content": "建模转化"
        },
        {
          "edge_id": "E2",
          "source": "N2",
          "target": "N3",
          "edge_content": "对应到正十二面体"
        },
        {
          "edge_id": "E3",
          "source": "N3",
          "target": "N4",
          "edge_content": "确定旋转群"
        },
        {
          "edge_id": "E4",
          "source": "N4",
          "target": "N5",
          "edge_content": "确定样本空间"
        },
        {
          "edge_id": "E5",
          "source": "N5",
          "target": "N6",
          "edge_content": "引入 Burnside 引理"
        },
        {
          "edge_id": "E6",
          "source": "N6",
          "target": "N7",
          "edge_content": "分类一：恒等元"
        },
        {
          "edge_id": "E7",
          "source": "N6",
          "target": "N9",
          "edge_content": "分类二：非恒等元"
        },
        {
          "edge_id": "E8",
          "source": "N7",
          "target": "N8",
          "edge_content": "求 $|X^e|$"
        },
        {
          "edge_id": "E9",
          "source": "N9",
          "target": "N10",
          "edge_content": "分析轨道与颜色唯一性"
        },
        {
          "edge_id": "E10",
          "source": "N10",
          "target": "N11",
          "edge_content": "汇总所有非恒等元贡献"
        },
        {
          "edge_id": "E11",
          "source": "N8",
          "target": "N12",
          "edge_content": "代入 Burnside 求和"
        },
        {
          "edge_id": "E12",
          "source": "N11",
          "target": "N12",
          "edge_content": "代入 Burnside 求和"
        },
        {
          "edge_id": "E13",
          "source": "N12",
          "target": "N13",
          "edge_content": "化简得到结果"
        }
      ]
    }
  },
  {
    "chapter_id": 7,
    "chapter_name": "波利亚定理",
    "difficulty": 4,
    "problem_content": "将正六面体的各棱的中点相连，切掉八个角，得到一个新的多面体。\n\n(1) 求该多面体的面数、顶点数、棱数；\n\n(2) 使用红、黄、蓝 3 种颜色对该多面体的面进行染色，要求 4 个面为红色，4 个面为黄色，其余面为蓝色，并且所有红色面形状均相同，所有黄色面形状也均相同。允许整体旋转，求不等价的染色方案数；\n\n(3) 用火柴搭建该多面体的骨架（即对每条棱选一种状态），允许整体旋转，求不等价的方案数。",
    "problem_solution": "### (1) 面数、顶点数、棱数\n\n将正六面体（立方体）的各棱中点相连并切去八个角后得到的多面体是**截半立方体**。\n\n- **面数 $F$**：\n  - 原立方体的 6 个正方形面保留下来，仍为 6 个正方形；\n  - 原立方体的 8 个顶点被截去，每个顶点处生成 1 个正三角形面，共 8 个正三角形；\n  - 因此\n    $$F = 6 + 8 = 14.$$  \n\n- **顶点数 $V$**：\n  新多面体的顶点都位于原立方体的 12 条棱的中点上，每条棱提供一个顶点，故\n  $$V = 12.$$\n\n- **棱数 $E$**：\n  由欧拉公式\n  $$F + V - E = 2$$\n  得\n  $$14 + 12 - E = 2 \\Rightarrow E = 24.$$\n\n因此，该多面体的面数、顶点数、棱数分别为\n$$F = 14,\\quad V = 12,\\quad E = 24.$$\n\n---\n\n### (2) 面的染色方案数\n\n设多面体的旋转群为 $G$，则 $|G| = 24$。记\n- 所有正方形面组成的集合为 $S$，$|S| = 6$；\n- 所有正三角形面组成的集合为 $T$，$|T| = 8$。\n\n题设要求：红色面 4 个，黄色面 4 个，其余为蓝色，且\n- 所有红色面形状相同；\n- 所有黄色面形状也相同。\n\n于是可能的形状分配仅有以下三种情形：\n\n1. **情况 1**：红色涂在 $S$ 上（4 个正方形为红，2 个正方形为蓝），黄色涂在 $T$ 上（4 个三角形为黄，4 个三角形为蓝）。\n2. **情况 2**：红色涂在 $T$ 上（4 红 4 蓝的三角形），黄色涂在 $S$ 上（4 黄 2 蓝的正方形），与情况 1 形状互换，对称。\n3. **情况 3**：红色涂在 $T$ 上，黄色也涂在 $T$ 上（4 个三角形为红，4 个三角形为黄），$S$ 中 6 个正方形全部为蓝色。\n\n下文分别对这三种情形，用 Burnside 引理计算颜色分布在同形面上的不等价方案数。\n\n#### 旋转群作用下的循环类型\n\n对 $G$ 中元素按旋转类型分类，并记录其在集合 $S$ 与 $T$ 上诱导的置换的循环分解类型：\n\n1. **恒等变换 $e$（1 个）**：\n   - 对 $S$：$(1)^6$；\n   - 对 $T$：$(1)^8$。\n\n2. **绕某一正方形面中心的 $\\pm 90^\\circ$ 旋转（共 6 个）**：\n   - 对 $S$：2 个正方形不动，另外 4 个正方形构成一个 4-循环，即 $(1)^2 (4)^1$；\n   - 对 $T$：8 个三角形分成两个 4-循环，即 $(4)^2$。\n\n3. **绕某一正方形面中心的 $180^\\circ$ 旋转（共 3 个）**：\n   - 对 $S$：2 个正方形不动，其余 4 个构成 2 个 2-循环，即 $(1)^2 (2)^2$；\n   - 对 $T$：8 个三角形构成 4 个 2-循环，即 $(2)^4$。\n\n4. **绕一条“空间对角线”（连接相对顶点）的 $\\pm 120^\\circ$ 旋转（共 8 个）**：\n   - 对 $S$：6 个正方形分成 2 个 3-循环，即 $(3)^2$；\n   - 对 $T$：8 个三角形中有 2 个不动，其余形成 2 个 3-循环，即 $(1)^2 (3)^2$。\n\n5. **绕棱中点连线的 $180^\\circ$ 旋转（共 6 个）**：\n   - 对 $S$：6 个正方形构成 3 个 2-循环，即 $(2)^3$；\n   - 对 $T$：8 个三角形构成 4 个 2-循环，即 $(2)^4$。\n\n---\n\n#### 情况 1：红在 $S$，黄在 $T$ 的方案数 $N_1$\n\n此时：\n- 在 $S$ 上选 4 个正方形染红，另外 2 个为蓝色；\n- 在 $T$ 上选 4 个三角形染黄，另外 4 个为蓝色。\n\n对每类群元计算在该情形下的**不动染色数**：\n\n- **恒等元 $e$**：\n  - $S$ 上任选四个正方形染红：$\\binom{6}{4} = 15$ 种；\n  - $T$ 上任选四个三角形染黄：$\\binom{8}{4} = 70$ 种；\n  - 不动染色数：$1 \\times 15 \\times 70 = 1050$。\n\n- **$\\pm 90^\\circ$ 旋转（面中心，6 个）**：\n  - 在 $S$ 上，4-循环中的 4 个正方形必须同色，才能在旋转下保持不变。要得到 4 个红面，只能令这 4 个全部为红，而 2 个不动点为蓝，符合“4 红 2 蓝”的要求，因此 $S$ 上只有 1 种可行着色；\n  - 在 $T$ 上，两个 4-循环中，每个循环内颜色必须一致。要得到 4 黄 4 蓝，只能从 2 个循环中选 1 个循环染黄、另一个为蓝，因此 $\\binom{2}{1} = 2$ 种；\n  - 不动染色数：$6 \\times 1 \\times 2 = 12$。\n\n- **$180^\\circ$ 旋转（面中心，3 个）**：\n  - 对 $S$：循环类型 $(1)^2 (2)^2$。要使总共有 4 个红面，并保持对称性：\n    - 方案 A：两条 2-循环各为红（共 4 个红面），两个不动点为蓝，共 1 种；\n    - 方案 B：从 2 条 2-循环中选 1 条为红（2 个红面），再从 2 个不动点中选 2 个都为红，即 2 个不动点均为红，共 $\\binom{2}{1} = 2$ 种；\n    - 合计：$1 + 2 = 3$ 种；\n  - 对 $T$：循环类型 $(2)^4$。要得到 4 个黄面，只能从 4 个 2-循环中选 2 个染黄，其余为蓝，共 $\\binom{4}{2} = 6$ 种；\n  - 不动染色数：$3 \\times 3 \\times 6 = 54$。\n\n- **$\\pm 120^\\circ$ 旋转（空间对角线，8 个）**：\n  - 对 $S$：循环类型 $(3)^2$，每个 3-循环内的 3 个正方形颜色必须相同，因此红面个数只能是 $0, 3, 6$，无法得到 4 个红面；\n  - 故不动染色数为 0。\n\n- **$180^\\circ$ 旋转（棱中心，6 个）**：\n  - 对 $S$：循环类型 $(2)^3$。要得到 4 个红面，只能从 3 个 2-循环中选 2 个为红（贡献 4 个红面），其余 1 条 2-循环为蓝，共 $\\binom{3}{2} = 3$ 种；\n  - 对 $T$：循环类型 $(2)^4$，要得到 4 个黄面，同前，需从 4 个 2-循环中选 2 个为黄，共 $\\binom{4}{2} = 6$ 种；\n  - 不动染色数：$6 \\times 3 \\times 6 = 108$。\n\n综上，情况 1 下所有群元的不动染色数之和为\n$$\\mathrm{Sum}_1 = 1050 + 12 + 54 + 0 + 108 = 1224.$$\n\n由 Burnside 引理，情况 1 的不等价染色数为\n$$N_1 = \\frac{\\mathrm{Sum}_1}{|G|} = \\frac{1224}{24} = 51.$$\n\n---\n\n#### 情况 2：红在 $T$，黄在 $S$ 的方案数 $N_2$\n\n此情形与情况 1 在颜色与形状上完全对称，群作用结构相同，故不等价染色数相同：\n$$N_2 = 51.$$\n\n---\n\n#### 情况 3：红、黄都在 $T$ 上的方案数 $N_3$\n\n此时：\n- 集合 $S$ 中 6 个正方形全部染为蓝色（唯一一种）；\n- 集合 $T$ 中 8 个三角形中，4 个为红，4 个为黄。\n\n因此只需在 $T$ 上考虑 4 红 4 黄的染色，并应用 Burnside 引理。\n\n对 $T$ 的染色，在各种旋转下的不动染色数如下：\n\n- **恒等元 $e$**：\n  - 从 8 个三角形中选 4 个为红（其余为黄），共有\n    $$\\binom{8}{4} = 70$$\n    种，因此不动染色数为 $1 \\times 70 = 70$。\n\n- **$\\pm 90^\\circ$ 旋转（面中心，6 个）**：\n  - 循环类型 $(4)^2$，每个 4-循环内颜色必须一致，为得到 4 红 4 黄，只能从 2 个 4-循环中选 1 个为红、另一个为黄，故有 $\\binom{2}{1} = 2$ 种；\n  - 不动染色数：$6 \\times 2 = 12$。\n\n- **$180^\\circ$ 旋转（面中心，3 个）**：\n  - 循环类型 $(2)^4$，每个 2-循环内颜色一致。要得到 4 红 4 黄，只能从 4 个 2-循环中选 2 个为红，其余 2 个为黄，共 $\\binom{4}{2} = 6$ 种；\n  - 不动染色数：$3 \\times 6 = 18$。\n\n- **$\\pm 120^\\circ$ 旋转（空间对角线，8 个）**：\n  - 循环类型 $(1)^2 (3)^2$，即 2 个不动点和 2 个 3-循环；\n  - 记红面数为 4，黄面数也为 4：\n    - 2 个不动点中必须恰有 1 个为红、1 个为黄；\n    - 每个 3-循环内 3 个面颜色一致，要使剩余红、黄面数各为 3，只能令一个 3-循环全红，另一个 3-循环全黄；\n    - 选中“哪个不动点为红”和“哪个 3-循环为红”各有 2 种，对应组合数为 $\\binom{2}{1} \\binom{2}{1} = 4$；\n  - 不动染色数：$8 \\times 4 = 32$。\n\n- **$180^\\circ$ 旋转（棱中心，6 个）**：\n  - 循环类型 $(2)^4$，同上，需从 4 个 2-循环中选 2 个为红，其余 2 个为黄，共 $\\binom{4}{2} = 6$ 种；\n  - 不动染色数：$6 \\times 6 = 36$。\n\n因此，情况 3 下总不动染色数之和为\n$$\\mathrm{Sum}_3 = 70 + 12 + 18 + 32 + 36 = 168.$$\n\n应用 Burnside 引理，情况 3 的不等价染色数为\n$$N_3 = \\frac{\\mathrm{Sum}_3}{|G|} = \\frac{168}{24} = 7.$$\n\n---\n\n#### 面染色问题的最终结果\n\n三种情形互不重叠，因此总的不等价染色方案数为\n$$N = N_1 + N_2 + N_3 = 51 + 51 + 7 = 109.$$\n\n---\n\n### (3) 用火柴搭建该多面体的方案数\n\n将用火柴搭建理解为：对该多面体的 24 条棱进行两种状态的标记（例如“放火柴”和“不放火柴”，或等价地对棱进行 2 染色），并在整体旋转下考察不等价的标记方案数。\n\n设仍以多面体的旋转群 $G$（$|G| = 24$）作用在 24 条棱的集合上，记每条棱可取 2 种状态。对每类群元，考察其在 24 条棱上的循环分解与不动标记数：\n\n- **恒等元 $e$（1 个）**：\n  - 循环类型 $(1)^{24}$（24 条棱全部为不动点）；\n  - 每条棱可独立取 2 种状态，不动标记数为\n    $$2^{24}.$$\n\n- **$\\pm 90^\\circ$ 旋转（面中心，6 个）**：\n  - 在棱上诱导的置换类型为 $(4)^6$（6 个 4-循环）；\n  - 每个 4-循环上的 4 条棱必须同状态，因此每个循环 2 种选择，共有\n    $$2^6$$\n    种不动标记。\n\n- **$180^\\circ$ 旋转（面中心，3 个）**：\n  - 棱上循环类型为 $(2)^{12}$（12 个 2-循环）；\n  - 每个 2-循环内两条棱同状态，因此不动标记数为\n    $$2^{12}.$$\n\n- **$180^\\circ$ 旋转（棱中心，6 个）**：\n  - 同样在棱上给出循环类型 $(2)^{12}$；\n  - 不动标记数同为\n    $$2^{12}.$$\n\n- **$\\pm 120^\\circ$ 旋转（空间对角线，8 个）**：\n  - 在棱上循环类型为 $(3)^8$（8 个 3-循环）；\n  - 每个 3-循环内三条棱必须同状态，因此不动标记数为\n    $$2^8.$$\n\n（补充说明：上述两种 $180^\\circ$ 旋转共 $3 + 6 = 9$ 个，在棱上均对应 12 个 2-循环，即循环类型 $(2)^{12}$。）\n\n应用 Burnside 引理，总的不等价方案数为\n$$\n\\begin{aligned}\nN &= \\frac{1}{|G|} \\sum_{g \\in G} \\text{Fix}(g) \\\\\n  &= \\frac{1}{24} \\left(1 \\cdot 2^{24} + 6 \\cdot 2^6 + 9 \\cdot 2^{12} + 8 \\cdot 2^8 \\right) \\\\\n  &= \\frac{1}{24} \\left(16777216 + 384 + 36864 + 2048 \\right) \\\\\n  &= \\frac{16816512}{24} \\\\\n  &= 700688.\n\\end{aligned}\n$$\n\n因此，用火柴搭建该多面体（对 24 条棱进行二元标记，在旋转下考虑）时，不等价的方案数为\n$$700688.$$",
    "problem_mindmap": {
      "nodes": [
        {
          "node_id": "N1",
          "node_type": "问题核心",
          "node_content": "正六面体各棱中点相连并截去八角，得截半立方体；求 (1) $F,V,E$；(2) 指定条件下面染色数；(3) 棱二染色数"
        },
        {
          "node_id": "N2",
          "node_type": "核心思路",
          "node_content": "(1) 识别多面体类型（截半立方体），分类统计各类面，并用欧拉公式求 $E$"
        },
        {
          "node_id": "N3",
          "node_type": "关键结论",
          "node_content": "原 6 个正方形保留，新生 8 个正三角形，故 $F=14$"
        },
        {
          "node_id": "N4",
          "node_type": "关键结论",
          "node_content": "所有顶点是原立方体 12 条棱的中点，故 $V=12$"
        },
        {
          "node_id": "N5",
          "node_type": "关键结论",
          "node_content": "由欧拉公式 $F+V-E=2$ 得 $E=24$"
        },
        {
          "node_id": "N6",
          "node_type": "核心思路",
          "node_content": "(2) 把面分为正方形集 $S$ 与三角形集 $T$，确定旋转群 $G$ 的类型及其在 $S,T$ 上的循环结构，用 Burnside 引理计算面染色不等价方案数"
        },
        {
          "node_id": "N7",
          "node_type": "关键结论",
          "node_content": "旋转群 $G$ 为立方体旋转群，$|G|=24$；列出五类旋转及其在 $S,T$ 上的循环类型"
        },
        {
          "node_id": "N8",
          "node_type": "核心思路",
          "node_content": "根据“同色面形状相同”的限制，对红黄所在的形状进行分类讨论"
        },
        {
          "node_id": "N9",
          "node_type": "分支/情况",
          "node_content": "情况 1：红在 $S$（4 红 2 蓝的正方形），黄在 $T$（4 黄 4 蓝的三角形）"
        },
        {
          "node_id": "N10",
          "node_type": "关键结论",
          "node_content": "逐类旋转统计在 $S,T$ 上满足“4 红/4 黄”及循环约束的不动染色数，总和 $\\mathrm{Sum}_1=1224$，得 $N_1=\\dfrac{1224}{24}=51$"
        },
        {
          "node_id": "N11",
          "node_type": "分支/情况",
          "node_content": "情况 2：红在 $T$，黄在 $S$，与情况 1 在形状与颜色上对称"
        },
        {
          "node_id": "N12",
          "node_type": "关键结论",
          "node_content": "对称性保证不等价染色数相同，$N_2=51$"
        },
        {
          "node_id": "N13",
          "node_type": "分支/情况",
          "node_content": "情况 3：红、黄都在 $T$（$T$ 上 4 红 4 黄），$S$ 上 6 正方形全为蓝色"
        },
        {
          "node_id": "N14",
          "node_type": "关键结论",
          "node_content": "仅在 $T$ 上考虑 4 红 4 黄，按五类旋转分别统计不动染色数，总和 $\\mathrm{Sum}_3=168$，得 $N_3=\\dfrac{168}{24}=7$"
        },
        {
          "node_id": "N15",
          "node_type": "关键结论",
          "node_content": "三种情况互斥，面染色总数 $N=N_1+N_2+N_3=51+51+7=109$"
        },
        {
          "node_id": "N16",
          "node_type": "核心思路",
          "node_content": "(3) 把“搭骨架”视作对 24 条棱做 2-染色；利用同一旋转群 $G$，在棱集合上分析循环类型并用 Burnside 引理"
        },
        {
          "node_id": "N17",
          "node_type": "关键结论",
          "node_content": "列出五类旋转在棱上的循环：$e:(1)^{24}$，$\\pm90^\\circ:(4)^6$，两类 $180^\\circ:(2)^{12}$（共 9 个），$\\pm120^\\circ:(3)^8$；各自不动标记数分别为 $2^{24},6\\cdot2^6,9\\cdot2^{12},8\\cdot2^8$"
        },
        {
          "node_id": "N18",
          "node_type": "最终答案",
          "node_content": "由 Burnside：$N=\\dfrac{1}{24}\\bigl(2^{24}+6\\cdot2^6+9\\cdot2^{12}+8\\cdot2^8\\bigr)=700688$；整体结果：(1) $F=14,V=12,E=24$；(2) 面染色 $109$ 种；(3) 棱二染色 $700688$ 种"
        }
      ],
      "edges": [
        {
          "edge_id": "E1",
          "source": "N1",
          "target": "N2",
          "edge_content": "(1) 结构分析"
        },
        {
          "edge_id": "E2",
          "source": "N2",
          "target": "N3",
          "edge_content": "数面"
        },
        {
          "edge_id": "E3",
          "source": "N2",
          "target": "N4",
          "edge_content": "数顶点"
        },
        {
          "edge_id": "E4",
          "source": "N2",
          "target": "N5",
          "edge_content": "用欧拉公式求棱数"
        },
        {
          "edge_id": "E5",
          "source": "N1",
          "target": "N6",
          "edge_content": "(2) 群论方法"
        },
        {
          "edge_id": "E6",
          "source": "N6",
          "target": "N7",
          "edge_content": "分类旋转类型与循环"
        },
        {
          "edge_id": "E7",
          "source": "N6",
          "target": "N8",
          "edge_content": "按红黄分布分类"
        },
        {
          "edge_id": "E8",
          "source": "N8",
          "target": "N9",
          "edge_content": "情况 1"
        },
        {
          "edge_id": "E9",
          "source": "N9",
          "target": "N10",
          "edge_content": "Burnside 计算 $N_1$"
        },
        {
          "edge_id": "E10",
          "source": "N8",
          "target": "N11",
          "edge_content": "情况 2"
        },
        {
          "edge_id": "E11",
          "source": "N11",
          "target": "N12",
          "edge_content": "对称推出 $N_2$"
        },
        {
          "edge_id": "E12",
          "source": "N8",
          "target": "N13",
          "edge_content": "情况 3"
        },
        {
          "edge_id": "E13",
          "source": "N13",
          "target": "N14",
          "edge_content": "Burnside 计算 $N_3$"
        },
        {
          "edge_id": "E14",
          "source": "N10",
          "target": "N15",
          "edge_content": "汇总"
        },
        {
          "edge_id": "E15",
          "source": "N12",
          "target": "N15",
          "edge_content": "汇总"
        },
        {
          "edge_id": "E16",
          "source": "N14",
          "target": "N15",
          "edge_content": "汇总"
        },
        {
          "edge_id": "E17",
          "source": "N1",
          "target": "N16",
          "edge_content": "(3) 棱二染色"
        },
        {
          "edge_id": "E18",
          "source": "N16",
          "target": "N17",
          "edge_content": "确定棱上的循环类型与不动数"
        },
        {
          "edge_id": "E19",
          "source": "N17",
          "target": "N18",
          "edge_content": "Burnside 求总数并汇总全题答案"
        }
      ]
    }
  },
  {
    "chapter_id": 7,
    "chapter_name": "波利亚定理",
    "difficulty": 3,
    "problem_content": "现有一个包含 5 个节点的无向完全图，各节点之间没有区别。使用 3 种颜色对各条边进行染色，求不等价的染色方案数。",
    "problem_solution": "设图的节点数为 5，边数为\n$$m = \\binom{5}{2} = 10,$$\n颜色数为 $k=3$。由于节点之间没有区别，图在节点置换下保持不变，对应的对称群为 5 个节点的置换群\n$$G = S_5, \\quad |G| = 120.$$\n\n令 $c(g)$ 表示置换 $g \\in G$ 在边集上诱导的循环数。根据 Burnside 引理，需要列举 $S_5$ 中各种共轭类（按置换类型分类），并计算对应的 $c(g)$。\n\n对 $S_5$ 中各置换类型分析如下（括号中为该类型的元素个数）：\n\n1. **类型 $1^5$（1 个）**  \n   即恒等置换，所有 10 条边均保持不动，因此\n   $$c = 10.$$\n\n2. **类型 $2^1 1^3$（10 个）**  \n   包含 1 个对换和 3 个不动点。边集在该置换作用下可分为：\n   - 对换中两点之间的一条边，形成 1 个长度为 1 的边循环；\n   - 3 个不动点之间的边，共 $\\binom{3}{2} = 3$ 条，每条为长度为 1 的边循环；\n   - 对换中每个点与 3 个不动点之间的边，共 $2 \\times 3 = 6$ 条，这 6 条边在置换作用下成对交换，形成 3 个长度为 2 的边循环。  \n   因此总循环数为\n   $$c = 1 + 3 + 3 = 7.$$\n\n3. **类型 $2^2 1^1$（15 个）**  \n   包含 2 个对换和 1 个不动点。边集在该置换作用下可分为：\n   - 每个对换内有 1 条边，共形成 2 个长度为 1 的边循环；\n   - 两个对换之间的 4 条边，在置换作用下成对交换，形成 2 个长度为 2 的边循环；\n   - 不动点与每个对换中的 2 个点之间，共 $2 \\times 2 = 4$ 条边，在置换作用下也成对交换，形成 2 个长度为 2 的边循环。  \n   因此总循环数为\n   $$c = 2 + 2 + 2 = 6.$$\n\n4. **类型 $3^1 1^2$（20 个）**  \n   包含 1 个 3-循环和 2 个不动点。边集在该置换作用下可分为：\n   - 3-循环内有 3 条边，在 3-循环作用下构成 1 个长度为 3 的边循环；\n   - 2 个不动点之间有 1 条边，为长度为 1 的边循环；\n   - 3-循环中的每个点与 2 个不动点之间共有 $3 \\times 2 = 6$ 条边，在 3-循环作用下分为 2 组，每组 3 条，形成 2 个长度为 3 的边循环。  \n   因此总循环数为\n   $$c = 1 + 1 + 2 = 4.$$\n\n5. **类型 $3^1 2^1$（20 个）**  \n   包含 1 个 3-循环和 1 个 2-循环。边集在该置换作用下可分为：\n   - 2-循环内有 1 条边，为长度为 1 的边循环；\n   - 3-循环内有 3 条边，在 3-循环作用下形成 1 个长度为 3 的边循环；\n   - 3-循环与 2-循环之间共有 $3 \\times 2 = 6$ 条边，在 3-循环与 2-循环共同作用下形成 1 个长度为 6 的边循环（其长度为 $\\operatorname{lcm}(2,3)=6$）。  \n   因此总循环数为\n   $$c = 1 + 1 + 1 = 3.$$\n\n6. **类型 $4^1 1^1$（30 个）**  \n   包含 1 个 4-循环和 1 个不动点。边集在该置换作用下可分为：\n   - 4-循环内有 $\\binom{4}{2} = 6$ 条边，在 4-循环作用下分为 2 个长度为 4 的边循环；\n   - 不动点与 4-循环中 4 个点之间有 4 条边，在 4-循环作用下形成 1 个长度为 4 的边循环。  \n   因此总循环数为\n   $$c = 2 + 1 = 3.$$\n\n7. **类型 $5^1$（24 个）**  \n   为 1 个 5-循环。此时 5 个节点构成一个环，边集共有 10 条边，在 5-循环作用下分为 2 个长度为 5 的边循环，因此\n   $$c = 2.$$\n\n根据 Burnside 引理，不等价的染色方案数为\n$$\nN = \\frac{1}{|G|} \\sum_{g \\in G} k^{c(g)}.\n$$\n代入上述各类置换的个数和对应的循环数，得到：\n$$\n\\begin{aligned}\nN &= \\frac{1}{120} \\Big[ 1 \\cdot 3^{10} + 10 \\cdot 3^7 + 15 \\cdot 3^6 + 20 \\cdot 3^4 + 20 \\cdot 3^3 + 30 \\cdot 3^3 + 24 \\cdot 3^2 \\Big] \\\\\n  &= \\frac{1}{120} \\big[ 59049 + 21870 + 10935 + 1620 + 1350 + 216 \\big] \\\\\n  &= \\frac{95040}{120} \\\\\n  &= 792.\n\\end{aligned}\n$$\n\n因此，不等价的边染色方案数为 $792$。",
    "problem_mindmap": {
      "nodes": [
        {
          "node_id": "N1",
          "node_type": "问题核心",
          "node_content": "完全图 $K_5$ 的 10 条边用 3 种颜色染色，求在节点置换下不等价的染色方案数"
        },
        {
          "node_id": "N2",
          "node_type": "核心思路",
          "node_content": "将“节点之间没有区别”视为 $S_5$ 对边染色的作用，使用 Burnside 引理计数不等价染色数"
        },
        {
          "node_id": "N3",
          "node_type": "关键结论",
          "node_content": "图有 $m = \\binom{5}{2} = 10$ 条边，颜色数 $k=3$，对称群为 $G = S_5$，$|G|=120$"
        },
        {
          "node_id": "N4",
          "node_type": "核心思路",
          "node_content": "按 $S_5$ 的共轭类（循环类型）分类，计算每类置换诱导的边循环数 $c(g)$，再代入 Burnside 引理"
        },
        {
          "node_id": "N5",
          "node_type": "分支/情况",
          "node_content": "类型 $1^5$（1 个）：恒等置换，各边不动，$c=10$"
        },
        {
          "node_id": "N6",
          "node_type": "分支/情况",
          "node_content": "类型 $2^1 1^3$（10 个）：1 个对换 +3 个不动点，边按三类分解，得到 $c=7$"
        },
        {
          "node_id": "N7",
          "node_type": "分支/情况",
          "node_content": "类型 $2^2 1^1$（15 个）：2 个对换 +1 个不动点，边在对换内部、之间及与不动点连接，得到 $c=6$"
        },
        {
          "node_id": "N8",
          "node_type": "分支/情况",
          "node_content": "类型 $3^1 1^2$（20 个）：1 个 3-循环 +2 个不动点，分别考虑 3-循环内部、不动点之间及其连边，得 $c=4$"
        },
        {
          "node_id": "N9",
          "node_type": "分支/情况",
          "node_content": "类型 $3^1 2^1$（20 个）：1 个 3-循环 +1 个 2-循环，边分为 2-循环内、3-循环内及两循环之间，利用 $\\operatorname{lcm}(2,3)$ 得 $c=3$"
        },
        {
          "node_id": "N10",
          "node_type": "分支/情况",
          "node_content": "类型 $4^1 1^1$（30 个）：1 个 4-循环 +1 个不动点，4 点间 6 条边及与不动点连边在 4-循环作用下分解，得 $c=3$"
        },
        {
          "node_id": "N11",
          "node_type": "分支/情况",
          "node_content": "类型 $5^1$（24 个）：1 个 5-循环，10 条边在 5-循环下分成 2 个长度为 5 的边循环，$c=2$"
        },
        {
          "node_id": "N12",
          "node_type": "关键结论",
          "node_content": "对每类置换，固定的染色数为 $k^{c(g)}$，总和为：$1\\cdot3^{10}+10\\cdot3^7+15\\cdot3^6+20\\cdot3^4+20\\cdot3^3+30\\cdot3^3+24\\cdot3^2$"
        },
        {
          "node_id": "N13",
          "node_type": "最终答案",
          "node_content": "由 Burnside 引理：$N = \\dfrac{1}{120}\\big[1\\cdot3^{10}+10\\cdot3^7+15\\cdot3^6+20\\cdot3^4+20\\cdot3^3+30\\cdot3^3+24\\cdot3^2\\big] = 792$"
        }
      ],
      "edges": [
        {
          "edge_id": "E1",
          "source": "N1",
          "target": "N2",
          "edge_content": "抽象为群作用计数问题"
        },
        {
          "edge_id": "E2",
          "source": "N2",
          "target": "N3",
          "edge_content": "确定基本参数与对称群"
        },
        {
          "edge_id": "E3",
          "source": "N2",
          "target": "N4",
          "edge_content": "确定整体策略"
        },
        {
          "edge_id": "E4",
          "source": "N4",
          "target": "N5",
          "edge_content": "共轭类：恒等"
        },
        {
          "edge_id": "E5",
          "source": "N4",
          "target": "N6",
          "edge_content": "共轭类：$2^1 1^3$"
        },
        {
          "edge_id": "E6",
          "source": "N4",
          "target": "N7",
          "edge_content": "共轭类：$2^2 1^1$"
        },
        {
          "edge_id": "E7",
          "source": "N4",
          "target": "N8",
          "edge_content": "共轭类：$3^1 1^2$"
        },
        {
          "edge_id": "E8",
          "source": "N4",
          "target": "N9",
          "edge_content": "共轭类：$3^1 2^1$"
        },
        {
          "edge_id": "E9",
          "source": "N4",
          "target": "N10",
          "edge_content": "共轭类：$4^1 1^1$"
        },
        {
          "edge_id": "E10",
          "source": "N4",
          "target": "N11",
          "edge_content": "共轭类：$5^1$"
        },
        {
          "edge_id": "E11",
          "source": "N5",
          "target": "N12",
          "edge_content": "贡献 $1\\cdot3^{10}$"
        },
        {
          "edge_id": "E12",
          "source": "N6",
          "target": "N12",
          "edge_content": "贡献 $10\\cdot3^{7}$"
        },
        {
          "edge_id": "E13",
          "source": "N7",
          "target": "N12",
          "edge_content": "贡献 $15\\cdot3^{6}$"
        },
        {
          "edge_id": "E14",
          "source": "N8",
          "target": "N12",
          "edge_content": "贡献 $20\\cdot3^{4}$"
        },
        {
          "edge_id": "E15",
          "source": "N9",
          "target": "N12",
          "edge_content": "贡献 $20\\cdot3^{3}$"
        },
        {
          "edge_id": "E16",
          "source": "N10",
          "target": "N12",
          "edge_content": "贡献 $30\\cdot3^{3}$"
        },
        {
          "edge_id": "E17",
          "source": "N11",
          "target": "N12",
          "edge_content": "贡献 $24\\cdot3^{2}$"
        },
        {
          "edge_id": "E18",
          "source": "N12",
          "target": "N13",
          "edge_content": "代入 Burnside 引理并化简得到结果"
        }
      ]
    }
  },
  {
    "chapter_id": 7,
    "chapter_name": "波利亚定理",
    "difficulty": 4,
    "problem_content": "现有一个 $1 \\times 1 \\times 2$ 的小魔方，表面有 10 个色块。该魔方的两个 $1 \\times 1 \\times 1$ 小块间由转轴连接，可以旋转；同时整个魔方也可在空间中任意旋转。使用 2 种颜色对此魔方的每个色块染色，每种颜色分别恰好染 5 个色块，求不等价的染色方案数。",
    "problem_solution": "将该魔方视作由上下两层两个 $1 \\times 1 \\times 1$ 小方块构成。\n\n- 每个小方块有 5 个外露面（顶部或底部那一面是接触面），共 $5 \\times 2 = 10$ 个可见面。\n- 染色条件为：恰有 5 个面为一种颜色（例如黑色），5 个面为另一种颜色（例如白色）。若不考虑对称性，染色方式共有\n  $$\\binom{10}{5} = 252$$\n  种。\n\n设 $G$ 为该魔方在空间中的对称群。$G$ 的元素包括：\n1. 上层方块绕转轴的旋转；\n2. 下层方块绕转轴的旋转；\n3. 整体沿中间转轴的翻转（交换上下两层）。\n\n上下两层各有 4 种旋转（$0^\\circ,90^\\circ,180^\\circ,270^\\circ$），整体翻转有 2 种状态（翻转或不翻转），因此群阶为\n$$\n|G| = 4 \\times 4 \\times 2 = 32.\n$$\n\n利用 Burnside 引理求不等价染色数：\n$$\nN = \\frac{1}{|G|} \\sum_{g \\in G} |X^g|,\n$$\n其中 $X^g$ 为在置换 $g$ 作用下保持不变的染色方案集合。\n\n---\n\n### 一、包含整体翻转的操作（16 个）\n\n这类操作将上下两层互换，因此所有面的置换循环长度均为偶数（每个面被成对交换或形成偶数长度循环）。\n\n但我们要求 5 个黑面、5 个白面，其中黑面数为奇数。若置换的所有循环长度均为偶数，则每个循环中颜色必须一致，故各颜色在所有循环上的总出现次数必为偶数之和，无法得到 5 个黑面这一奇数面数。因此在这种操作下：\n\n$$\n|X^g| = 0.\n$$\n\n因此，包含整体翻转的 16 个群元素均无不动点。\n\n---\n\n### 二、不包含整体翻转的操作（16 个）\n\n此时仅有上下两层绕轴的独立旋转。记上层旋转角为 $C_1$，下层旋转角为 $C_2$，按 $(C_1,C_2)$ 分类讨论。\n\n#### 1. 恒等变换 $(0^\\circ,0^\\circ)$（1 个）\n\n- 循环类型：$(1)^{10}$（10 个面各自为 1-循环）。\n- 填色时只需从 10 个面中选出 5 个为黑色：\n  $$\n  |X^g| = \\binom{10}{5} = 252.\n  $$\n\n#### 2. 单层旋转 $180^\\circ$（如 $(0^\\circ,180^\\circ)$ 等，共 2 个）\n\n一层不动，一层旋转 $180^\\circ$：\n- 不动层：5 个面均为 1-循环；\n- 旋转层：1 个面为 1-循环（沿转轴的端面），其余 4 个侧面组成 2 个 2-循环；\n\n因此循环类型为\n$$\n(1)^6(2)^2.\n$$\n\n设有 2 个 2-循环、6 个 1-循环，要求总黑面数为 5。若取 $k$ 个 2-循环为黑色（$k=0,1,2$），则贡献黑面数为 $2k$，其余 $5-2k$ 个黑面来自 1-循环，需满足 $5-2k \\ge 0$ 且不超过 6。逐一计算：\n- $k=0$：从 6 个 1-循环中选 5 个为黑：$\\binom{2}{0}\\binom{6}{5}$；\n- $k=1$：从 2 个 2-循环中选 1 个，从 6 个 1-循环中选 3 个：$\\binom{2}{1}\\binom{6}{3}$；\n- $k=2$：从 2 个 2-循环全取黑，从 6 个 1-循环中再取 1 个黑：$\\binom{2}{2}\\binom{6}{1}$。\n\n因此\n$$\n|X^g| = \\binom{2}{0}\\binom{6}{5} + \\binom{2}{1}\\binom{6}{3} + \\binom{2}{2}\\binom{6}{1} = 6 + 40 + 6 = 52.\n$$\n\n#### 3. 单层旋转 $\\pm 90^\\circ$（如 $(0^\\circ, \\pm90^\\circ)$ 等，共 4 个）\n\n一层不动，一层旋转 $\\pm90^\\circ$：\n- 不动层：5 个 1-循环；\n- 旋转层：1 个 1-循环（端面），4 个侧面组成一个 4-循环；\n\n因此循环类型为\n$$\n(1)^6 (4)^1.\n$$\n\n设唯一的 4-循环取黑或不取黑：\n- 取该 4-循环为黑：给出 4 个黑面，再从 6 个 1-循环中选 1 个为黑：$\\binom{1}{1}\\binom{6}{1}$；\n- 不取 4-循环：从 6 个 1-循环中选 5 个为黑：$\\binom{1}{0}\\binom{6}{5}$。\n\n故\n$$\n|X^g| = \\binom{1}{1}\\binom{6}{1} + \\binom{1}{0}\\binom{6}{5} = 6 + 6 = 12.\n$$\n\n#### 4. 双层均为 $180^\\circ$（$(180^\\circ,180^\\circ)$，1 个）\n\n每层旋转 $180^\\circ$：\n- 每层有 1 个 1-循环，4 个侧面分成 2 个 2-循环；\n- 两层合计：2 个 1-循环，4 个 2-循环；\n\n循环类型为\n$$\n(1)^2 (2)^4.\n$$\n\n选取 2-循环中若干个为黑，使总黑面数为 5。若取 $k$ 个 2-循环为黑，则贡献黑面数 $2k$，其余 $5-2k$ 个黑面从 2 个 1-循环中选取：\n- 为使 $5-2k \\ge 0$ 且不超过 2，只可能是 $k=2$，此时 $5-2k=1$；\n\n于是\n$$\n|X^g| = \\binom{4}{2}\\binom{2}{1} = 6 \\times 2 = 12.\n$$\n\n#### 5. 一层 $180^\\circ$，一层 $\\pm 90^\\circ$（4 个）\n\n设一层旋转 $180^\\circ$，另一层旋转 $\\pm90^\\circ$：\n- $180^\\circ$ 层：1 个 1-循环，2 个 2-循环；\n- $\\pm90^\\circ$ 层：1 个 1-循环，1 个 4-循环；\n\n总体循环类型为\n$$\n(1)^2 (2)^2 (4)^1.\n$$\n\n设 4-循环是否为黑：\n- 若 4-循环取黑，则已贡献 4 个黑面，剩余 1 个黑面需从 2 个 1-循环中选 1 个为黑，2-循环全取白：$\\binom{1}{1}\\binom{2}{1}$；\n- 若不取 4-循环为黑，则需从 2 个 2-循环中选 2 个为黑（贡献 4 个黑面），再从 2 个 1-循环中选 1 个为黑：$\\binom{2}{2}\\binom{2}{1}$。\n\n因此\n$$\n|X^g| = \\binom{1}{1}\\binom{2}{1} + \\binom{2}{2}\\binom{2}{1} = 2 + 2 = 4.\n$$\n\n#### 6. 双层均为 $\\pm 90^\\circ$（4 个）\n\n两层各绕轴旋转 $\\pm90^\\circ$：\n- 每层 1 个 1-循环，1 个 4-循环；\n- 总体：2 个 1-循环，2 个 4-循环；\n\n循环类型为\n$$\n(1)^2 (4)^2.\n$$\n\n欲得到 5 个黑面，必须从两个 4-循环中选取恰好一个为黑（贡献 4 个黑面），再从 2 个 1-循环中选 1 个为黑：\n$$\n|X^g| = \\binom{2}{1}\\binom{2}{1} = 4.\n$$\n\n---\n\n### 三、综合 Burnside 引理计算\n\n将所有情况汇总：\n- 含整体翻转的 16 个元素：每个 $|X^g| = 0$；\n- 恒等变换：$1$ 个，$|X^g| = 252$；\n- 单层 $180^\\circ$：$2$ 个，每个 $|X^g| = 52$；\n- 单层 $\\pm90^\\circ$：$4$ 个，每个 $|X^g| = 12$；\n- 双层 $180^\\circ$：$1$ 个，$|X^g| = 12$；\n- 一层 $180^\\circ$，一层 $\\pm90^\\circ$：$4$ 个，每个 $|X^g| = 4$；\n- 双层 $\\pm90^\\circ$：$4$ 个，每个 $|X^g| = 4$。\n\n代入 Burnside 引理：\n$$\n\\begin{aligned}\nN &= \\frac{1}{32} \\big[ 1 \\cdot 252 + 2 \\cdot 52 + 4 \\cdot 12 + 1 \\cdot 12 + 4 \\cdot 4 + 4 \\cdot 4 + 16 \\cdot 0 \\big] \\\\\n  &= \\frac{1}{32} (252 + 104 + 48 + 12 + 16 + 16) \\\\\n  &= \\frac{448}{32} \\\\\n  &= 14.\n\\end{aligned}\n$$\n\n因此，不等价的染色方案数为 $14$。",
    "problem_mindmap": {
      "nodes": [
        {
          "node_id": "N1",
          "node_type": "问题核心",
          "node_content": "用 2 种颜色给 $1\\times1\\times2$ 小魔方 10 个面染色，每色恰好 5 面，求在空间对称和层间转动下的不等价染色数"
        },
        {
          "node_id": "N2",
          "node_type": "核心思路",
          "node_content": "先计算不考虑对称的所有满足 $5$ 黑 $5$ 白的染色，再用 Burnside 引理按群作用的固定染色数求轨道数"
        },
        {
          "node_id": "N3",
          "node_type": "关键结论",
          "node_content": "将魔方视为上下两层两个 $1\\times1\\times1$ 小方块，各有 5 个外露面，共 10 面；不考虑对称时染色数为 $\\binom{10}{5}=252$"
        },
        {
          "node_id": "N4",
          "node_type": "关键结论",
          "node_content": "构造对称群 $G$：上层绕轴 $4$ 种转动 $\\times$ 下层绕轴 $4$ 种转动 $\\times$ 是否整体翻转 $2$ 种，共 $|G|=32$"
        },
        {
          "node_id": "N5",
          "node_type": "核心思路",
          "node_content": "应用 Burnside 引理：$N=\\dfrac{1}{|G|}\\sum\\limits_{g\\in G}|X^g|$，按是否含整体翻转对群元素分类计算 $|X^g|$"
        },
        {
          "node_id": "N6",
          "node_type": "分支/情况",
          "node_content": "情况 A：含整体翻转的 16 个元素（上下两层互换）"
        },
        {
          "node_id": "N7",
          "node_type": "关键结论",
          "node_content": "含翻转时所有面的置换循环长度均为偶数，每个循环同色，则每种颜色出现次数为若干个偶数之和，无法得到 5 个黑面，故 $|X^g|=0$"
        },
        {
          "node_id": "N8",
          "node_type": "分支/情况",
          "node_content": "情况 B：不含整体翻转的 16 个元素，仅上下两层独立旋转，按 $(C_1,C_2)$ 分类"
        },
        {
          "node_id": "N9",
          "node_type": "分支/情况",
          "node_content": "B1 恒等 $(0^\\circ,0^\\circ)$：循环类型 $(1)^{10}$，任意选 $5$ 面为黑，$|X^g|=\\binom{10}{5}=252$"
        },
        {
          "node_id": "N10",
          "node_type": "分支/情况",
          "node_content": "B2 单层 $180^\\circ$（2 个）：循环类型 $(1)^6(2)^2$，用“选若干个 2-循环 + 若干个 1-循环”凑 5 黑面，得 $|X^g|=52$"
        },
        {
          "node_id": "N11",
          "node_type": "分支/情况",
          "node_content": "B3 单层 $\\pm90^\\circ$（4 个）：循环类型 $(1)^6(4)^1$，讨论 4-循环是否取黑，由 1-循环补足到 5 黑面，得 $|X^g|=12$"
        },
        {
          "node_id": "N12",
          "node_type": "分支/情况",
          "node_content": "B4 双层皆 $180^\\circ$（1 个）：循环类型 $(1)^2(2)^4$，只有取 2 个 2-循环黑再由 1-循环补 1 面可行，得 $|X^g|=12$"
        },
        {
          "node_id": "N13",
          "node_type": "分支/情况",
          "node_content": "B5 一层 $180^\\circ$，一层 $\\pm90^\\circ$（4 个）：循环类型 $(1)^2(2)^2(4)^1$，分 4-循环是否取黑，配合 1-、2-循环凑 5 黑面，得 $|X^g|=4$"
        },
        {
          "node_id": "N14",
          "node_type": "分支/情况",
          "node_content": "B6 双层皆 $\\pm90^\\circ$（4 个）：循环类型 $(1)^2(4)^2$，必须恰好取 1 个 4-循环黑，再由 1-循环补 1 面，得 $|X^g|=4$"
        },
        {
          "node_id": "N15",
          "node_type": "关键结论",
          "node_content": "汇总固定染色数：$\\sum_{g\\in G}|X^g|=1\\cdot252+2\\cdot52+4\\cdot12+1\\cdot12+4\\cdot4+4\\cdot4+16\\cdot0=448$"
        },
        {
          "node_id": "N16",
          "node_type": "最终答案",
          "node_content": "不等价染色方案数 $N=\\dfrac{448}{32}=14$"
        }
      ],
      "edges": [
        {
          "edge_id": "E1",
          "source": "N1",
          "target": "N2",
          "edge_content": "整体策略"
        },
        {
          "edge_id": "E2",
          "source": "N2",
          "target": "N3",
          "edge_content": "建模与计数"
        },
        {
          "edge_id": "E3",
          "source": "N2",
          "target": "N4",
          "edge_content": "构造对称群"
        },
        {
          "edge_id": "E4",
          "source": "N3",
          "target": "N5",
          "edge_content": "引出 Burnside"
        },
        {
          "edge_id": "E5",
          "source": "N4",
          "target": "N5",
          "edge_content": "给出 |G|"
        },
        {
          "edge_id": "E6",
          "source": "N5",
          "target": "N6",
          "edge_content": "分类一：含翻转"
        },
        {
          "edge_id": "E7",
          "source": "N5",
          "target": "N8",
          "edge_content": "分类二：不含翻转"
        },
        {
          "edge_id": "E8",
          "source": "N6",
          "target": "N7",
          "edge_content": "循环奇偶性推理"
        },
        {
          "edge_id": "E9",
          "source": "N8",
          "target": "N9",
          "edge_content": "子情况 B1"
        },
        {
          "edge_id": "E10",
          "source": "N8",
          "target": "N10",
          "edge_content": "子情况 B2"
        },
        {
          "edge_id": "E11",
          "source": "N8",
          "target": "N11",
          "edge_content": "子情况 B3"
        },
        {
          "edge_id": "E12",
          "source": "N8",
          "target": "N12",
          "edge_content": "子情况 B4"
        },
        {
          "edge_id": "E13",
          "source": "N8",
          "target": "N13",
          "edge_content": "子情况 B5"
        },
        {
          "edge_id": "E14",
          "source": "N8",
          "target": "N14",
          "edge_content": "子情况 B6"
        },
        {
          "edge_id": "E15",
          "source": "N7",
          "target": "N15",
          "edge_content": "贡献 0"
        },
        {
          "edge_id": "E16",
          "source": "N9",
          "target": "N15",
          "edge_content": "贡献 252"
        },
        {
          "edge_id": "E17",
          "source": "N10",
          "target": "N15",
          "edge_content": "贡献 2×52"
        },
        {
          "edge_id": "E18",
          "source": "N11",
          "target": "N15",
          "edge_content": "贡献 4×12"
        },
        {
          "edge_id": "E19",
          "source": "N12",
          "target": "N15",
          "edge_content": "贡献 1×12"
        },
        {
          "edge_id": "E20",
          "source": "N13",
          "target": "N15",
          "edge_content": "贡献 4×4"
        },
        {
          "edge_id": "E21",
          "source": "N14",
          "target": "N15",
          "edge_content": "贡献 4×4"
        },
        {
          "edge_id": "E22",
          "source": "N15",
          "target": "N16",
          "edge_content": "代入 Burnside 得结果"
        }
      ]
    }
  }
]